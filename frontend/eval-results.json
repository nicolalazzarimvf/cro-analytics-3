{
  "results": [
    {
      "id": 1,
      "input": "Show me hearing aids experiments",
      "ideal": "SELECT query filtering by vertical using ILIKE '%Hearing%' pattern, NOT filtering by launchedBy",
      "category": "vertical",
      "critical": true,
      "sql": "SELECT \"testName\", vertical, geo, \"elementChanged\", \"changeType\", \"winningVar\", \"monthlyExtrap\", \"dateLaunched\", \"dateConcluded\" FROM \"Experiment\" WHERE vertical ILIKE '%Hearing%' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters by vertical using ILIKE with the '%Hearing%' pattern, orders by dateLaunched, and includes a reasonable LIMIT clause. All criteria are met.",
      "safetyPassed": true,
      "latencyMs": 10072
    },
    {
      "id": 2,
      "input": "What tests did we run on solar panels?",
      "ideal": "SELECT query with vertical ILIKE '%Solar%' pattern for Solar Panels vertical",
      "category": "vertical",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, \"elementChanged\", \"changeType\", \"winningVar\", \"monthlyExtrap\" FROM \"Experiment\" WHERE vertical ILIKE '%Solar%' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Column 'vertical' is not properly quoted"
      ],
      "graderFeedback": "The query correctly filters for the Solar vertical using ILIKE and includes a reasonable LIMIT clause. However, the 'vertical' column should be properly quoted.",
      "safetyPassed": true,
      "latencyMs": 9784
    },
    {
      "id": 3,
      "input": "Heat pumps experiments in the last 3 months",
      "ideal": "SELECT query combining vertical ILIKE '%Heat%' with date filter using INTERVAL '3 months'",
      "category": "vertical",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"geo\", \"launchedBy\", \"winningVar\", \"monthlyExtrap\", \"dateLaunched\" FROM \"Experiment\" WHERE \"vertical\" ILIKE '%Heat%' AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '3 months' ORDER BY \"dateLaunched\" DESC LIMIT 50",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query perfectly meets all the criteria: it uses ILIKE for the vertical filter, applies the correct date filter using INTERVAL, includes a LIMIT clause, and orders the results by dateLaunched. All table and column names are properly quoted.",
      "safetyPassed": true,
      "latencyMs": 8989
    },
    {
      "id": 4,
      "input": "Merchant accounts tests this year",
      "ideal": "SELECT query filtering vertical ILIKE '%Merchant%' with 2025 or current year date filter",
      "category": "vertical",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"dateLaunched\", \"winningVar\", \"monthlyExtrap\", \"changeType\", \"elementChanged\" FROM \"Experiment\" WHERE vertical ILIKE '%Merchant%' AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '12 months' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Date filter includes the last 12 months instead of only the current year"
      ],
      "graderFeedback": "The query correctly filters for the 'Merchant' vertical using ILIKE and includes a date filter, but it uses the last 12 months instead of filtering for the current year. Otherwise, it meets all other criteria.",
      "safetyPassed": true,
      "latencyMs": 9411
    },
    {
      "id": 5,
      "input": "List all UK experiments",
      "ideal": "SELECT query filtering geo ILIKE '%UK%'",
      "category": "geo",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, \"dateLaunched\", \"winningVar\" FROM \"Experiment\" WHERE geo ILIKE '%UK%' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Unquoted column names"
      ],
      "graderFeedback": "The query correctly filters for UK experiments using ILIKE on the geo column and includes a reasonable LIMIT clause. However, the column names 'vertical' and 'geo' should be quoted for consistency with the rest of the query.",
      "safetyPassed": true,
      "latencyMs": 8201
    },
    {
      "id": 6,
      "input": "Show me Denmark tests from 2025",
      "ideal": "SELECT query filtering geo ILIKE '%DK%' or '%Denmark%' with 2025 date filter",
      "category": "geo",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"geo\", \"vertical\", \"dateLaunched\", \"dateConcluded\", \"winningVar\" FROM \"Experiment\" WHERE geo ILIKE '%DK%' AND EXTRACT(YEAR FROM \"dateLaunched\") = 2025 LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Missing alternative geo filter for 'Denmark'"
      ],
      "graderFeedback": "The query correctly filters for geo using ILIKE and checks for the year 2025. However, it should also include an alternative filter for 'Denmark' in the geo column.",
      "safetyPassed": true,
      "latencyMs": 9424
    },
    {
      "id": 7,
      "input": "Hearing aids DK tests for the last 6 months",
      "ideal": "SELECT query with BOTH vertical ILIKE '%Hearing%' AND geo ILIKE '%DK%', with 6 month date range, NOT filtering launchedBy by 'Hearing' or 'DK'",
      "category": "geo",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"geo\", \"winningVar\", \"monthlyExtrap\", \"dateLaunched\" FROM \"Experiment\" WHERE vertical ILIKE '%Hearing%' AND geo ILIKE '%DK%' AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '6 months' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters by vertical and geo using ILIKE with wildcards, applies the 6-month date range, and includes a reasonable LIMIT clause. It meets all the expected criteria.",
      "safetyPassed": true,
      "latencyMs": 8755
    },
    {
      "id": 8,
      "input": "What worked well in Germany?",
      "ideal": "SELECT query filtering geo for DE/Germany with winningVar IS NOT NULL to find winners",
      "category": "geo",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"winningVar\", \"monthlyExtrap\", \"lessonLearned\" FROM \"Experiment\" WHERE geo ILIKE '%DE%' AND \"winningVar\" IS NOT NULL ORDER BY \"monthlyExtrap\" DESC LIMIT 50",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters for experiments in Germany using the geo column with ILIKE and checks for winningVar IS NOT NULL. It also includes a reasonable LIMIT clause and orders by monthlyExtrap, which is a sensible choice for highlighting what worked well.",
      "safetyPassed": true,
      "latencyMs": 8998
    },
    {
      "id": 9,
      "input": "Show me B2C experiments",
      "ideal": "SELECT query filtering testName ILIKE '%B2C%' since B2C is in testName not a separate column",
      "category": "b2c_b2b",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, \"dateLaunched\", \"winningVar\", \"monthlyExtrap\" FROM \"Experiment\" WHERE \"testName\" ILIKE '%B2C%' AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '12 months' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "vertical and geo columns are not quoted"
      ],
      "graderFeedback": "The query correctly filters B2C experiments using testName ILIKE '%B2C%'. It includes a date filter and a reasonable LIMIT clause. However, the vertical and geo columns should be properly quoted.",
      "safetyPassed": true,
      "latencyMs": 10920
    },
    {
      "id": 10,
      "input": "List B2B tests from last year",
      "ideal": "SELECT query filtering testName ILIKE '%B2B%' with date filter for last year/2024",
      "category": "b2c_b2b",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, \"winningVar\", \"monthlyExtrap\", \"dateLaunched\" FROM \"Experiment\" WHERE \"testName\" ILIKE '%B2B%' AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '1 year' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 8,
      "graderPassed": true,
      "graderIssues": [
        "Incorrect date filter for last year"
      ],
      "graderFeedback": "The query correctly filters for B2B tests using ILIKE on testName and includes a LIMIT clause. However, the date filter is not accurately set for 'last year'. It should specifically target the previous calendar year, not the last 365 days.",
      "safetyPassed": true,
      "latencyMs": 9182
    },
    {
      "id": 11,
      "input": "What is the largest win in 2025 for B2C Americas?",
      "ideal": "SELECT query with testName ILIKE '%B2C%' AND (testName ILIKE '%AME%' OR tradingHub ILIKE '%Americas%') with 2025 date filter, ORDER BY monthlyExtrap DESC, winningVar IS NOT NULL",
      "category": "b2c_b2b",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"monthlyExtrap\", \"winningVar\", \"vertical\", \"geo\" FROM \"Experiment\" WHERE (\"testName\" ILIKE '%B2C%' AND (\"testName\" ILIKE '%AME%' OR \"testName\" ILIKE '%Americas%' OR \"tradingHub\" ILIKE '%Americas%')) AND EXTRACT(YEAR FROM \"dateConcluded\") = 2025 AND \"winningVar\" IS NOT NULL ORDER BY \"monthlyExtrap\" DESC LIMIT 1",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters for B2C and Americas using the testName and tradingHub fields, applies the 2025 date filter, checks for non-null winningVar, and orders by monthlyExtrap in descending order with a limit of 1. All criteria are met.",
      "safetyPassed": true,
      "latencyMs": 7791
    },
    {
      "id": 12,
      "input": "Compare B2C vs B2B win rates",
      "ideal": "SELECT query that groups or compares testName containing B2C vs B2B patterns",
      "category": "b2c_b2b",
      "critical": false,
      "sql": "SELECT\n    CASE WHEN \"testName\" ILIKE '%B2C%' THEN 'B2C' ELSE 'B2B' END AS business_type,\n    COUNT(*) AS total_experiments,\n    SUM(CASE WHEN \"winningVar\" IS NOT NULL AND \"winningVar\" != '' THEN 1 ELSE 0 END) AS winning_experiments,\n    ROUND(100.0 * SUM(CASE WHEN \"winningVar\" IS NOT NULL AND \"winningVar\" != '' THEN 1 ELSE 0 END) / COUNT(*), 2) AS win_rate_percentage\nFROM \"Experiment\"\nWHERE\n    (\"testName\" ILIKE '%B2C%' OR \"testName\" ILIKE '%B2B%')\n    AND \"dateConcluded\" >= CURRENT_DATE - INTERVAL '12 months'\nGROUP BY\n    CASE WHEN \"testName\" ILIKE '%B2C%' THEN 'B2C' ELSE 'B2B' END\nLIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Minor style issue with redundant check for non-empty winningVar"
      ],
      "graderFeedback": "The query correctly compares B2C vs B2B win rates by grouping on testName patterns. It uses appropriate filters and aggregation functions. The check for non-empty winningVar is redundant since IS NOT NULL is sufficient.",
      "safetyPassed": true,
      "latencyMs": 9819
    },
    {
      "id": 13,
      "input": "Americas experiments this quarter",
      "ideal": "SELECT query filtering for AME or Americas in testName or tradingHub with current quarter date filter",
      "category": "regional",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, \"dateLaunched\", \"winningVar\", \"monthlyExtrap\" FROM \"Experiment\" WHERE (\"testName\" ILIKE '%AME%' OR \"testName\" ILIKE '%Americas%' OR \"tradingHub\" ILIKE '%Americas%') AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '3 months' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 8,
      "graderPassed": true,
      "graderIssues": [
        "Incorrect date filter for current quarter"
      ],
      "graderFeedback": "The query correctly filters for 'AME' or 'Americas' in 'testName' or 'tradingHub' and includes a LIMIT clause. However, the date filter should be adjusted to reflect the current quarter rather than the last 3 months.",
      "safetyPassed": true,
      "latencyMs": 11122
    },
    {
      "id": 14,
      "input": "Show me RoW (rest of world) tests",
      "ideal": "SELECT query filtering for RoW pattern in testName or tradingHub",
      "category": "regional",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"geo\", \"winningVar\", \"monthlyExtrap\", \"dateLaunched\" FROM \"Experiment\" WHERE (\"testName\" ILIKE '%RoW%' OR \"tradingHub\" ILIKE '%RoW%') AND \"dateLaunched\" >= (CURRENT_DATE - INTERVAL '12 months') ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters for RoW in testName or tradingHub, uses the correct date syntax, and includes a reasonable LIMIT clause. All criteria are met.",
      "safetyPassed": true,
      "latencyMs": 11069
    },
    {
      "id": 15,
      "input": "Top winners in Americas region",
      "ideal": "SELECT query filtering Americas/AME with ORDER BY monthlyExtrap DESC and winningVar IS NOT NULL",
      "category": "regional",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"monthlyExtrap\", \"winningVar\", \"elementChanged\", \"changeType\" FROM \"Experiment\" WHERE (\"testName\" ILIKE '%AME%' OR \"testName\" ILIKE '%Americas%' OR \"tradingHub\" ILIKE '%Americas%') AND \"winningVar\" IS NOT NULL ORDER BY \"monthlyExtrap\" DESC LIMIT 50",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters for the Americas region using the testName and tradingHub columns, includes the winningVar IS NOT NULL condition, orders by monthlyExtrap in descending order, and includes a reasonable LIMIT clause. All criteria are met.",
      "safetyPassed": true,
      "latencyMs": 9966
    },
    {
      "id": 16,
      "input": "How many experiments concluded in October 2025?",
      "ideal": "SELECT COUNT or list query filtering dateConcluded between 2025-10-01 and 2025-11-01",
      "category": "dates",
      "critical": true,
      "sql": "SELECT COUNT(*) as total_experiments FROM \"Experiment\" WHERE \"dateConcluded\" BETWEEN '2025-10-01' AND '2025-10-31' LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "The end date in the BETWEEN clause should be '2025-11-01' to include all of October."
      ],
      "graderFeedback": "The query correctly counts experiments concluded in October 2025, but the end date should be adjusted to '2025-11-01' to ensure all days in October are included.",
      "safetyPassed": true,
      "latencyMs": 5685
    },
    {
      "id": 17,
      "input": "Experiments from Q1 2025",
      "ideal": "SELECT query filtering date range from 2025-01-01 to 2025-04-01",
      "category": "dates",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"geo\", \"dateLaunched\", \"dateConcluded\", \"winningVar\", \"monthlyExtrap\" FROM \"Experiment\" WHERE \"dateLaunched\" BETWEEN '2025-01-01' AND '2025-03-31' LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Minor date range discrepancy"
      ],
      "graderFeedback": "The query correctly filters experiments launched in Q1 2025, but the end date should be '2025-04-01' to include the entire first quarter. Otherwise, it meets all other criteria, including the use of a LIMIT clause.",
      "safetyPassed": true,
      "latencyMs": 10178
    },
    {
      "id": 18,
      "input": "What did we test last month?",
      "ideal": "SELECT query using INTERVAL '1 month' or explicit last month date range",
      "category": "dates",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, \"launchedBy\", \"elementChanged\", \"changeType\", \"dateLaunched\", \"winningVar\" FROM \"Experiment\" WHERE \"dateLaunched\" >= CURRENT_DATE - INTERVAL '1 month' ORDER BY \"dateLaunched\" DESC LIMIT 50",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "vertical and geo columns are not properly quoted"
      ],
      "graderFeedback": "The query correctly uses INTERVAL '1 month' to filter experiments launched last month and includes a reasonable LIMIT clause. However, the vertical and geo columns should be properly quoted.",
      "safetyPassed": true,
      "latencyMs": 11362
    },
    {
      "id": 19,
      "input": "Tests launched between January and March 2025",
      "ideal": "SELECT query filtering dateLaunched >= 2025-01-01 AND dateLaunched < 2025-04-01",
      "category": "dates",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"geo\", \"dateLaunched\", \"winningVar\" FROM \"Experiment\" WHERE \"dateLaunched\" >= '2025-01-01' AND \"dateLaunched\" <= '2025-03-31' ORDER BY \"dateLaunched\" LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Date range should use < 2025-04-01 instead of <= 2025-03-31"
      ],
      "graderFeedback": "The query is almost perfect, but it uses <= 2025-03-31 instead of < 2025-04-01 for the date range. This is a minor issue and does not affect the correctness significantly.",
      "safetyPassed": true,
      "latencyMs": 10145
    },
    {
      "id": 20,
      "input": "What are our biggest wins this year?",
      "ideal": "SELECT query with winningVar IS NOT NULL, ORDER BY monthlyExtrap DESC, with 2025 date filter",
      "category": "winners",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"geo\", \"monthlyExtrap\", \"winningVar\" FROM \"Experiment\" WHERE \"dateConcluded\" >= CURRENT_DATE - INTERVAL '12 months' AND \"winningVar\" IS NOT NULL ORDER BY \"monthlyExtrap\" DESC LIMIT 50",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Date filter should be for the year 2025, not the last 12 months"
      ],
      "graderFeedback": "The query is almost perfect, but it uses a date filter for the last 12 months instead of specifically for the year 2025. Otherwise, it correctly filters for winning experiments and orders by monthlyExtrap in descending order.",
      "safetyPassed": true,
      "latencyMs": 9568
    },
    {
      "id": 21,
      "input": "Top 10 experiments by monthly extrapolation",
      "ideal": "SELECT query ORDER BY monthlyExtrap DESC LIMIT 10",
      "category": "winners",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"monthlyExtrap\", \"vertical\", \"geo\", \"winningVar\", \"elementChanged\" FROM \"Experiment\" WHERE \"monthlyExtrap\" IS NOT NULL ORDER BY \"monthlyExtrap\" DESC LIMIT 10",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly selects the top 10 experiments by monthly extrapolation, orders them in descending order, and includes a LIMIT clause. All criteria are met.",
      "safetyPassed": true,
      "latencyMs": 8957
    },
    {
      "id": 22,
      "input": "What experiments failed recently?",
      "ideal": "SELECT query filtering for failed experiments (winningVar IS NULL or empty) with recent date",
      "category": "winners",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, \"launchedBy\", \"winningVar\", \"dateLaunched\", \"lessonLearned\" FROM \"Experiment\" WHERE (\"winningVar\" IS NULL OR \"winningVar\" = '') AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '3 months' ORDER BY \"dateLaunched\" DESC LIMIT 50",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters for failed experiments by checking if 'winningVar' is NULL or empty. It also uses the correct date filter to find recent experiments and includes a reasonable LIMIT clause. All table and column names are properly quoted.",
      "safetyPassed": true,
      "latencyMs": 10231
    },
    {
      "id": 23,
      "input": "Show me flat tests (no significant result)",
      "ideal": "SELECT query filtering winningVar IS NULL or checking significance thresholds",
      "category": "winners",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"geo\", \"dateLaunched\", \"dateConcluded\" FROM \"Experiment\" WHERE (\"winningVar\" IS NULL OR \"winningVar\" = '') AND \"dateConcluded\" >= CURRENT_DATE - INTERVAL '12 months' ORDER BY \"dateConcluded\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Minor style issue with checking empty string for 'winningVar'"
      ],
      "graderFeedback": "The query correctly filters for experiments with no significant result by checking 'winningVar' IS NULL. The use of 'winningVar' = '' is unnecessary since 'winningVar' should be NULL for flat tests. The date filter and LIMIT clause are appropriate.",
      "safetyPassed": true,
      "latencyMs": 10342
    },
    {
      "id": 24,
      "input": "What experiments did John run?",
      "ideal": "SELECT query filtering launchedBy ILIKE '%John%'",
      "category": "person",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, \"dateLaunched\", \"winningVar\", \"monthlyExtrap\" FROM \"Experiment\" WHERE \"launchedBy\" ILIKE '%John%' ORDER BY \"dateLaunched\" DESC LIMIT 50",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters experiments launched by John using the ILIKE operator, orders by dateLaunched, and includes a reasonable LIMIT clause. All criteria are met.",
      "safetyPassed": true,
      "latencyMs": 7428
    },
    {
      "id": 25,
      "input": "Tests by Sarah in the last 6 months",
      "ideal": "SELECT query filtering launchedBy ILIKE '%Sarah%' with INTERVAL '6 months' date filter",
      "category": "person",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"geo\", \"targetMetric\", \"winningVar\", \"monthlyExtrap\", \"dateLaunched\" FROM \"Experiment\" WHERE \"launchedBy\" ILIKE '%Sarah%' AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '6 months' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query perfectly meets all the criteria: it correctly filters by 'launchedBy' using ILIKE, applies the date filter using INTERVAL, orders by 'dateLaunched', and includes a reasonable LIMIT clause.",
      "safetyPassed": true,
      "latencyMs": 9041
    },
    {
      "id": 26,
      "input": "How many experiments per vertical?",
      "ideal": "SELECT with GROUP BY vertical and COUNT aggregation",
      "category": "aggregation",
      "critical": false,
      "sql": "SELECT vertical, COUNT(*) as experiment_count FROM \"Experiment\" WHERE \"dateConcluded\" IS NOT NULL AND \"dateConcluded\" >= CURRENT_DATE - INTERVAL '12 months' GROUP BY vertical ORDER BY experiment_count DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly uses GROUP BY to count experiments per vertical, includes a filter for concluded experiments within the last 12 months, and orders the results by experiment count. It also includes a reasonable LIMIT clause.",
      "safetyPassed": true,
      "latencyMs": 8398
    },
    {
      "id": 27,
      "input": "Average win rate by geo",
      "ideal": "SELECT with GROUP BY geo calculating win rate or count metrics",
      "category": "aggregation",
      "critical": false,
      "sql": "SELECT geo, ROUND(AVG(CASE WHEN \"winningVar\" IS NOT NULL AND \"winningVar\" != '' THEN 1.0 ELSE 0.0 END), 3) as win_rate, COUNT(*) as total_experiments FROM \"Experiment\" WHERE \"dateConcluded\" IS NOT NULL AND \"dateConcluded\" >= CURRENT_DATE - INTERVAL '12 months' GROUP BY geo ORDER BY win_rate DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "geo column not quoted"
      ],
      "graderFeedback": "The query correctly calculates the average win rate by geo, using appropriate filters and aggregation. However, the 'geo' column should be quoted for consistency with the rest of the query.",
      "safetyPassed": true,
      "latencyMs": 9954
    },
    {
      "id": 28,
      "input": "Monthly experiment count for 2025",
      "ideal": "SELECT with date extraction and GROUP BY month for 2025",
      "category": "aggregation",
      "critical": false,
      "sql": "SELECT COUNT(*) as monthly_experiment_count FROM \"Experiment\" WHERE EXTRACT(YEAR FROM \"dateLaunched\") = 2025 LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 5,
      "graderPassed": false,
      "graderIssues": [
        "Missing GROUP BY clause for monthly aggregation",
        "LIMIT clause is not necessary for aggregation without GROUP BY"
      ],
      "graderFeedback": "The query correctly filters for the year 2025 but lacks a GROUP BY clause to aggregate counts by month. The LIMIT clause is unnecessary in this context.",
      "safetyPassed": true,
      "latencyMs": 6008
    },
    {
      "id": 29,
      "input": "What CTA tests worked best on Solar Panels UK in 2025?",
      "ideal": "SELECT combining vertical ILIKE '%Solar%', geo ILIKE '%UK%', changeType or testName containing CTA, winningVar IS NOT NULL, 2025 date, ORDER BY monthlyExtrap DESC",
      "category": "complex",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"changeType\", \"elementChanged\", \"winningVar\", \"monthlyExtrap\", \"primarySignificance1\" FROM \"Experiment\" WHERE \"vertical\" ILIKE '%Solar%' AND \"geo\" ILIKE '%UK%' AND \"winningVar\" IS NOT NULL AND \"elementChanged\" ILIKE '%CTA%' AND EXTRACT(YEAR FROM \"dateConcluded\") = 2025 ORDER BY \"monthlyExtrap\" DESC LIMIT 100",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 8,
      "graderPassed": true,
      "graderIssues": [
        "Missing filter on changeType or testName for CTA",
        "Incorrect column 'primarySignificance1' included"
      ],
      "graderFeedback": "The query correctly filters by vertical, geo, winningVar, and year, and orders by monthlyExtrap. However, it misses filtering on changeType or testName for CTA and includes an incorrect column 'primarySignificance1'.",
      "safetyPassed": true,
      "latencyMs": 8598
    },
    {
      "id": 30,
      "input": "Compare form changes vs button changes - which performed better?",
      "ideal": "SELECT analyzing changeType or elementChanged for form vs button comparisons",
      "category": "complex",
      "critical": false,
      "sql": "SELECT \"changeType\", \"elementChanged\", AVG(\"monthlyExtrap\") as avg_monthly_extrap, COUNT(*) as experiment_count, AVG(\"primarySignificance1\") as avg_significance FROM \"Experiment\" WHERE \"changeType\" IN ('Form Change', 'Button Change') AND \"monthlyExtrap\" IS NOT NULL GROUP BY \"changeType\", \"elementChanged\" ORDER BY avg_monthly_extrap DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 6,
      "graderPassed": false,
      "graderIssues": [
        "Column 'primarySignificance1' does not exist in the schema",
        "Missing filter for winningVar IS NOT NULL",
        "LIMIT clause is too high for reasonable query"
      ],
      "graderFeedback": "The query correctly uses GROUP BY to compare 'Form Change' and 'Button Change' but includes a non-existent column 'primarySignificance1'. It also lacks a filter for winning experiments and uses an excessively high LIMIT.",
      "safetyPassed": true,
      "latencyMs": 7997
    },
    {
      "id": 31,
      "input": "What lessons did we learn from failed overlay tests?",
      "ideal": "SELECT including lessonLearned field, filtering for overlay in testName, winningVar IS NULL for failures",
      "category": "complex",
      "critical": false,
      "sql": "SELECT \"testName\", \"vertical\", \"geo\", \"winningVar\", \"lessonLearned\", \"hypothesis\", \"elementChanged\", \"changeType\" FROM \"Experiment\" WHERE \"winningVar\" IS NULL AND \"testName\" ILIKE '%overlay%' LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly selects the necessary fields, applies the appropriate filters for failed overlay tests, and includes a reasonable LIMIT clause.",
      "safetyPassed": true,
      "latencyMs": 11997
    },
    {
      "id": 32,
      "input": "Show me experiments",
      "ideal": "Basic SELECT from Experiment table with default LIMIT",
      "category": "edge",
      "critical": false,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, \"dateLaunched\", \"winningVar\", \"monthlyExtrap\" FROM \"Experiment\" ORDER BY \"dateLaunched\" DESC LIMIT 50",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "vertical and geo columns are not quoted"
      ],
      "graderFeedback": "The query is almost perfect with a proper SELECT statement and a reasonable LIMIT. However, the 'vertical' and 'geo' columns should be quoted to maintain consistency with the schema.",
      "safetyPassed": true,
      "latencyMs": 9348
    },
    {
      "id": 33,
      "input": "List experiments with hypothesis containing 'trust'",
      "ideal": "SELECT filtering hypothesis ILIKE '%trust%'",
      "category": "edge",
      "critical": false,
      "sql": "SELECT \"experimentId\", \"testName\", hypothesis, \"winningVar\", \"monthlyExtrap\", vertical, geo FROM \"Experiment\" WHERE LOWER(hypothesis) LIKE '%trust%' AND \"dateConcluded\" IS NOT NULL ORDER BY \"monthlyExtrap\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 8,
      "graderPassed": true,
      "graderIssues": [
        "Used LOWER instead of ILIKE for hypothesis filtering"
      ],
      "graderFeedback": "The query is mostly correct, but it uses LOWER instead of ILIKE for filtering the hypothesis. ILIKE should be used for case-insensitive matching. Otherwise, the query logic is sound and includes a reasonable LIMIT clause.",
      "safetyPassed": true,
      "latencyMs": 10028
    },
    {
      "id": 34,
      "input": "Experiments with CR change greater than 5%",
      "ideal": "SELECT filtering crChangeV1 > 0.05 or > 5 depending on format",
      "category": "edge",
      "critical": false,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, \"primaryMetricName\", \"primaryControlConv\", \"primaryVar1Conv\", \"primaryVar2Conv\", \"crChangeV1\", \"crChangeV2\", \"dateLaunched\", \"dateConcluded\", \"winningVar\" FROM \"Experiment\" WHERE GREATEST(COALESCE(\"crChangeV1\", 0), COALESCE(\"crChangeV2\", 0)) > 0.05 AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '12 months' AND \"winningVar\" IS NOT NULL ORDER BY \"crChangeV1\" DESC, \"crChangeV2\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Unquoted column names: vertical, geo",
        "Unnecessary columns: primaryMetricName, primaryControlConv, primaryVar1Conv, primaryVar2Conv, crChangeV2"
      ],
      "graderFeedback": "The query correctly filters experiments with CR change greater than 5% using GREATEST and COALESCE functions. It also includes a date filter and checks for a winning variant. However, some column names are not properly quoted, and there are unnecessary columns in the SELECT clause.",
      "safetyPassed": true,
      "latencyMs": 12294
    },
    {
      "id": 35,
      "input": "Show me what we tested on Merchant Accounts UK in the past 6 months. What has worked well, what hasn't? What are your recommendations for test opportunities?",
      "ideal": "SELECT with vertical ILIKE '%Merchant%', geo ILIKE '%UK%', INTERVAL '6 months' date filter, include lessonLearned, hypothesis, winningVar, monthlyExtrap for analysis",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"testName\", vertical, geo, \"winningVar\", \"changeType\", \"elementChanged\", \"primarySignificance1\", \"monthlyExtrap\", hypothesis, \"lessonLearned\" FROM \"Experiment\" WHERE vertical ILIKE '%Merchant%' AND geo ILIKE '%UK%' AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '6 months' ORDER BY \"monthlyExtrap\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 8,
      "graderPassed": true,
      "graderIssues": [
        "Missing winningVar IS NOT NULL filter",
        "Includes unnecessary columns: changeType, elementChanged, primarySignificance1"
      ],
      "graderFeedback": "The query correctly filters by vertical and geo using ILIKE, and applies the correct date filter with INTERVAL. However, it should include a filter for winningVar IS NOT NULL to identify what worked well. Additionally, it includes unnecessary columns that were not specified in the expected behavior.",
      "safetyPassed": true,
      "latencyMs": 14751
    },
    {
      "id": 36,
      "input": "What patterns can we see in failed experiments?",
      "ideal": "SELECT filtering winningVar IS NULL or empty, include changeType, elementChanged, lessonLearned for pattern analysis",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT vertical, geo, \"changeType\", \"elementChanged\", COUNT(*) as failed_count FROM \"Experiment\" WHERE (\"winningVar\" IS NULL OR \"winningVar\" = '') AND \"dateConcluded\" >= CURRENT_DATE - INTERVAL '12 months' GROUP BY vertical, geo, \"changeType\", \"elementChanged\" ORDER BY failed_count DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Missing lessonLearned column in SELECT clause"
      ],
      "graderFeedback": "The query correctly filters for failed experiments and includes necessary columns for pattern analysis, but it misses including 'lessonLearned' in the SELECT clause.",
      "safetyPassed": true,
      "latencyMs": 10729
    },
    {
      "id": 37,
      "input": "What has been tested on Solar Panels UK in the last 3 months? What did we learn?",
      "ideal": "SELECT with vertical ILIKE '%Solar%', geo ILIKE '%UK%', INTERVAL '3 months', include lessonLearned, hypothesis for learnings",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"elementChanged\", \"changeType\", \"hypothesis\", \"lessonLearned\", \"winningVar\", \"monthlyExtrap\" FROM \"Experiment\" WHERE vertical ILIKE '%Solar%' AND geo ILIKE '%UK%' AND \"dateConcluded\" >= CURRENT_DATE - INTERVAL '3 months' ORDER BY \"dateConcluded\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters for the 'Solar' vertical and 'UK' geo using ILIKE with wildcards, applies the correct date interval for the last 3 months, and includes the necessary columns for learnings. It also includes a reasonable LIMIT clause.",
      "safetyPassed": true,
      "latencyMs": 9937
    },
    {
      "id": 38,
      "input": "Please give me a summary of all experiments concluded in October 2025",
      "ideal": "SELECT filtering dateConcluded >= '2025-10-01' AND dateConcluded < '2025-11-01', include key fields for summary",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"geo\", \"winningVar\", \"monthlyExtrap\", \"changeType\", \"elementChanged\", \"hypothesis\", \"lessonLearned\" FROM \"Experiment\" WHERE \"dateConcluded\" BETWEEN '2025-10-01' AND '2025-10-31' ORDER BY \"monthlyExtrap\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 7,
      "graderPassed": true,
      "graderIssues": [
        "Incorrect date range for October 2025",
        "Missing winningVar IS NOT NULL filter for winners"
      ],
      "graderFeedback": "The query correctly selects key fields and orders by monthlyExtrap, but the date range should use '2025-11-01' for exclusivity. Additionally, it should include a filter for winningVar IS NOT NULL to ensure only winners are included.",
      "safetyPassed": true,
      "latencyMs": 12079
    },
    {
      "id": 39,
      "input": "What did we learn from experiments that include OverlayLoader in the name?",
      "ideal": "SELECT filtering testName ILIKE '%OverlayLoader%', include lessonLearned, hypothesis, winningVar",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"hypothesis\", \"lessonLearned\", \"elementChanged\", \"changeType\", \"winningVar\", \"vertical\", \"geo\" FROM \"Experiment\" WHERE \"testName\" ILIKE '%OverlayLoader%' AND (\"winningVar\" IS NOT NULL AND \"winningVar\" != '') LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Includes unnecessary columns",
        "Minor style issue with winningVar filter"
      ],
      "graderFeedback": "The query correctly filters on testName using ILIKE for 'OverlayLoader' and includes the necessary columns for lessonLearned, hypothesis, and winningVar. However, it includes additional columns like elementChanged, changeType, vertical, and geo, which are not required. The winningVar filter could be simplified to just 'winningVar IS NOT NULL'. Overall, it's a well-constructed query with minor issues.",
      "safetyPassed": true,
      "latencyMs": 11433
    },
    {
      "id": 40,
      "input": "What did we learn from tagline experiments on Merchant Accounts UK?",
      "ideal": "SELECT with vertical ILIKE '%Merchant%', geo ILIKE '%UK%', testName ILIKE '%tagline%', include lessonLearned",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"testName\", \"hypothesis\", \"lessonLearned\", \"winningVar\", \"elementChanged\", \"changeType\" FROM \"Experiment\" WHERE vertical ILIKE '%Merchant%' AND geo ILIKE '%UK%' AND \"elementChanged\" ILIKE '%tagline%' AND \"dateConcluded\" >= CURRENT_DATE - INTERVAL '12 months' LIMIT 100",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 8,
      "graderPassed": true,
      "graderIssues": [
        "Used 'elementChanged' instead of 'testName' for tagline filter",
        "Missing 'winningVar IS NOT NULL' for winners"
      ],
      "graderFeedback": "The query is mostly correct but uses 'elementChanged' instead of 'testName' for filtering tagline experiments and is missing the filter for winners. Otherwise, it correctly applies the vertical and geo filters and includes the 'lessonLearned' column.",
      "safetyPassed": true,
      "latencyMs": 9271
    },
    {
      "id": 41,
      "input": "What did we learn from experiment 6640249527336960?",
      "ideal": "SELECT filtering experimentId = '6640249527336960' or ILIKE pattern, include all detail fields especially lessonLearned and hypothesis",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"hypothesis\", \"lessonLearned\", \"winningVar\", \"changeType\", \"elementChanged\", \"vertical\", \"geo\" FROM \"Experiment\" WHERE \"experimentId\" = '6640249527336960' LIMIT 1",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters by experimentId, includes all relevant fields, and uses a reasonable LIMIT clause.",
      "safetyPassed": true,
      "latencyMs": 7643
    },
    {
      "id": 42,
      "input": "What did we learn from the overlayloader tests on Solar Panels?",
      "ideal": "SELECT with vertical ILIKE '%Solar%', testName ILIKE '%overlayloader%', include lessonLearned, hypothesis",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"hypothesis\", \"lessonLearned\", \"winningVar\", \"elementChanged\", \"changeType\" FROM \"Experiment\" WHERE \"vertical\" ILIKE '%Solar%' AND \"testName\" ILIKE '%overlayloader%' AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '12 months' LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Includes unnecessary columns",
        "Date filter not required"
      ],
      "graderFeedback": "The query correctly filters by vertical and testName using ILIKE, and includes the necessary columns 'hypothesis' and 'lessonLearned'. However, it includes additional columns that were not requested and applies a date filter that was not specified in the expected behavior.",
      "safetyPassed": true,
      "latencyMs": 10418
    },
    {
      "id": 43,
      "input": "What is the biggest stat sig CR win in B2B Americas in the past 3 years?",
      "ideal": "SELECT with testName ILIKE '%B2B%', (testName ILIKE '%AME%' OR tradingHub ILIKE '%Americas%'), winningVar IS NOT NULL, primarySignificance1 < 0.05, ORDER BY crChangeV1 DESC or monthlyExtrap DESC, INTERVAL '3 years'",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"primarySignificance1\", \"crChangeV1\", \"winningVar\", \"monthlyExtrap\" FROM \"Experiment\" WHERE (\"testName\" ILIKE '%B2B%' AND (\"testName\" ILIKE '%AME%' OR \"testName\" ILIKE '%Americas%' OR \"tradingHub\" ILIKE '%Americas%')) AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '3 years' AND \"winningVar\" IS NOT NULL AND \"primarySignificance1\" <= 0.05 ORDER BY \"monthlyExtrap\" DESC LIMIT 1",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Used 'primarySignificance1 <= 0.05' instead of '< 0.05'"
      ],
      "graderFeedback": "The query is almost perfect, correctly filtering for B2B, Americas, and significant winners within the last 3 years. It orders by 'monthlyExtrap' as expected. The only minor issue is using '<=' instead of '<' for 'primarySignificance1'.",
      "safetyPassed": true,
      "latencyMs": 8707
    },
    {
      "id": 44,
      "input": "Could you tell me about the largest recent win in B2B RoW?",
      "ideal": "SELECT with testName ILIKE '%B2B%', (testName ILIKE '%RoW%' OR tradingHub ILIKE '%RoW%'), winningVar IS NOT NULL, ORDER BY monthlyExtrap DESC, recent date filter",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"geo\", \"winningVar\", \"monthlyExtrap\", \"lever\", \"elementChanged\", \"changeType\", \"hypothesis\", \"lessonLearned\" FROM \"Experiment\" WHERE (\"testName\" ILIKE '%B2B%' OR \"tradingHub\" ILIKE '%B2B%') AND (\"testName\" ILIKE '%RoW%' OR \"tradingHub\" ILIKE '%RoW%') AND \"winningVar\" IS NOT NULL AND \"dateConcluded\" >= CURRENT_DATE - INTERVAL '12 months' ORDER BY \"monthlyExtrap\" DESC LIMIT 1",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 8,
      "graderPassed": true,
      "graderIssues": [
        "Incorrect filter for B2B using tradingHub",
        "Extra column 'lever' not in schema"
      ],
      "graderFeedback": "The query correctly filters for B2B and RoW using testName and tradingHub, includes the winningVar condition, and orders by monthlyExtrap. However, it incorrectly uses tradingHub for B2B filtering and includes a non-existent column 'lever'.",
      "safetyPassed": true,
      "latencyMs": 9998
    },
    {
      "id": 45,
      "input": "Could you tell me about any common characteristics of recent stat sig promoted tests in b2b?",
      "ideal": "SELECT with testName ILIKE '%B2B%', promoted = true, primarySignificance1 < 0.05, include changeType, elementChanged for characteristics analysis",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"testName\", vertical, geo, \"elementChanged\", \"changeType\", \"targetMetric\", \"winningVar\", \"monthlyExtrap\" FROM \"Experiment\" WHERE \"testName\" ILIKE '%B2B%' AND promoted = true AND \"winningVar\" IS NOT NULL AND \"primarySignificance1\" <= 0.05 AND \"dateLaunched\" > CURRENT_DATE - INTERVAL '12 months' ORDER BY \"monthlyExtrap\" DESC LIMIT 100",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 4,
      "graderPassed": false,
      "graderIssues": [
        "Column 'promoted' does not exist in the schema.",
        "Column 'primarySignificance1' does not exist in the schema.",
        "Missing 'changeType' and 'elementChanged' in SELECT clause.",
        "Incorrect filter for statistical significance and promotion."
      ],
      "graderFeedback": "The query attempts to filter on non-existent columns 'promoted' and 'primarySignificance1'. It also fails to include 'changeType' and 'elementChanged' in the SELECT clause, which are necessary for characteristics analysis. The logic for filtering statistically significant promoted tests is incorrect.",
      "safetyPassed": true,
      "latencyMs": 11880
    },
    {
      "id": 46,
      "input": "What were the biggest rolled out experiments in B2C AME (Americas) last month?",
      "ideal": "SELECT with testName ILIKE '%B2C%', (testName ILIKE '%AME%' OR tradingHub ILIKE '%Americas%'), winningVar IS NOT NULL, INTERVAL '1 month', ORDER BY monthlyExtrap DESC",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"monthlyExtrap\", \"winningVar\", \"launchedBy\" FROM \"Experiment\" WHERE \"dateConcluded\" >= DATE_TRUNC('month', CURRENT_DATE - INTERVAL '1 month') AND \"dateConcluded\" < DATE_TRUNC('month', CURRENT_DATE) AND \"testName\" ILIKE '%B2C%' AND (\"testName\" ILIKE '%AME%' OR \"testName\" ILIKE '%Americas%' OR \"tradingHub\" ILIKE '%Americas%') AND \"winningVar\" IS NOT NULL ORDER BY \"monthlyExtrap\" DESC LIMIT 10",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Redundant filter: 'testName' ILIKE '%Americas%'"
      ],
      "graderFeedback": "The query correctly filters for B2C and AME (Americas) using testName and tradingHub, checks for winningVar, and orders by monthlyExtrap. However, the filter 'testName' ILIKE '%Americas%' is redundant since 'AME' already covers the Americas region. Otherwise, the query is efficient and meets the expected behavior.",
      "safetyPassed": true,
      "latencyMs": 9329
    },
    {
      "id": 47,
      "input": "list the hearing aids dk tests for the last 6 months",
      "ideal": "SELECT with vertical ILIKE '%Hearing%', geo ILIKE '%DK%', INTERVAL '6 months', NOT filtering launchedBy",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"winningVar\", \"monthlyExtrap\", \"dateConcluded\" FROM \"Experiment\" WHERE vertical ILIKE '%Hearing%' AND geo ILIKE '%DK%' AND \"dateConcluded\" >= CURRENT_DATE - INTERVAL '6 months' ORDER BY \"dateConcluded\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters by vertical and geo using ILIKE, applies the correct date interval, and includes a reasonable LIMIT clause. It meets all the expected criteria.",
      "safetyPassed": true,
      "latencyMs": 8869
    },
    {
      "id": 48,
      "input": "What relationships exist between change types and elements changed?",
      "ideal": "Graph/Cypher query using HAS_CHANGE_TYPE and CHANGED_ELEMENT relationships, aggregating by changeType and elementChanged",
      "category": "graph",
      "critical": false,
      "sql": null,
      "cypher": "MATCH (e:Experiment)-[:HAS_CHANGE_TYPE]->(ct:ChangeType)\nMATCH (e)-[:CHANGED_ELEMENT]->(ec:ElementChanged)\nWHERE ct.name <> 'Other' AND ct.name <> 'Unknown'\nAND ec.name <> 'Other' AND ec.name <> 'Unknown'\nWITH ct.name AS changeType, ec.name AS elementChanged, \nCOUNT(DISTINCT e) AS experimentCount\nRETURN changeType, elementChanged, experimentCount\nORDER BY experimentCount DESC\nLIMIT 200",
      "modeUsed": "graph",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly uses MATCH patterns to traverse the HAS_CHANGE_TYPE and CHANGED_ELEMENT relationships. It filters out 'Other' and 'Unknown' values, aggregates by changeType and elementChanged, and orders the results by experimentCount. The use of LIMIT is appropriate. Overall, it meets all the criteria for a perfect Cypher query.",
      "safetyPassed": true,
      "latencyMs": 11138
    },
    {
      "id": 49,
      "input": "Show me patterns across different verticals",
      "ideal": "Graph/Cypher query traversing IN_VERTICAL relationships to find patterns",
      "category": "graph",
      "critical": false,
      "sql": null,
      "cypher": "MATCH (e:Experiment)-[:IN_VERTICAL]->(vertical:Vertical)\nWHERE vertical.name IS NOT NULL \nAND vertical.name <> 'other' \nAND vertical.name <> 'unknown'\nAND e.winningVar IS NOT NULL\nWITH vertical.name AS verticalName, \n     e.changeType AS changeType, \n     e.elementChanged AS elementChanged,\n     COUNT(DISTINCT e) AS experimentCount\nRETURN verticalName, \n       changeType, \n       elementChanged, \n       experimentCount\nORDER BY experimentCount DESC\nLIMIT 200",
      "modeUsed": "graph",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Minor style issue with filtering vertical names"
      ],
      "graderFeedback": "The query correctly uses MATCH to traverse IN_VERTICAL relationships and aggregates patterns across different verticals. It includes a filter for winningVar and uses COUNT for aggregation. The use of LIMIT is appropriate. However, filtering out 'other' and 'unknown' vertical names could be more explicitly handled with a more descriptive approach.",
      "safetyPassed": true,
      "latencyMs": 11015
    },
    {
      "id": 50,
      "input": "What connections exist between experiments and geos?",
      "ideal": "Graph/Cypher query using IN_GEO relationships",
      "category": "graph",
      "critical": false,
      "sql": null,
      "cypher": "MATCH (e:Experiment)-[:HAS_CHANGE_TYPE]->(ct:ChangeType)-[:CHANGED_ELEMENT]->(el:ElementChanged)\nWITH ct.name AS changeType, el.name AS elementChanged, count(e) AS experimentCount\nWHERE NOT (changeType = \"other\" AND elementChanged = \"other\")\nRETURN changeType, elementChanged, experimentCount\nORDER BY experimentCount DESC\nLIMIT 200",
      "modeUsed": "graph",
      "error": null,
      "graderScore": 2,
      "graderPassed": false,
      "graderIssues": [
        "Incorrect relationship used",
        "Missing IN_GEO relationship",
        "Query does not address the connection between experiments and geos"
      ],
      "graderFeedback": "The query does not use the IN_GEO relationship to find connections between experiments and geos. Instead, it incorrectly focuses on change types and elements changed, which is not relevant to the expected behavior.",
      "safetyPassed": true,
      "latencyMs": 10920
    },
    {
      "id": 51,
      "input": "How are change types connected to experiment outcomes?",
      "ideal": "Graph/Cypher query analyzing HAS_CHANGE_TYPE relationships with winningVar",
      "category": "graph",
      "critical": false,
      "sql": null,
      "cypher": "MATCH (e:Experiment)-[:HAS_CHANGE_TYPE]->(ct:ChangeType)\nWHERE e.winningVar IS NOT NULL\nAND ct.name <> 'Other'\nAND ct.name <> 'Unknown'\nWITH ct.name as changeType, \n     count(e) as successfulExperiments, \n     avg(e.primarySignificance1) as avgSignificance,\n     avg(e.crChangeV1) as avgConversionRateChange\nRETURN changeType, \n       successfulExperiments, \n       round(avgSignificance, 2) as avgSignificance, \n       round(avgConversionRateChange, 2) as avgConversionRateChange\nORDER BY successfulExperiments DESC\nLIMIT 200",
      "modeUsed": "graph",
      "error": null,
      "graderScore": 7,
      "graderPassed": true,
      "graderIssues": [
        "Use of non-existent property 'primarySignificance1'",
        "Incorrect aggregation of non-existent properties",
        "Potentially excessive LIMIT value"
      ],
      "graderFeedback": "The query correctly uses the HAS_CHANGE_TYPE relationship and filters for winningVar. However, it references a non-existent property 'primarySignificance1' and attempts to aggregate it, which is incorrect. The LIMIT of 200 might be excessive for typical analysis. Adjusting these issues would improve the query.",
      "safetyPassed": true,
      "latencyMs": 12304
    }
  ],
  "summary": {
    "totalTests": 51,
    "passed": 47,
    "failed": 4,
    "errors": 0,
    "passRate": 0.9215686274509803,
    "averageScore": 8.745098039215685,
    "averageLatency": 9833,
    "criticalPassRate": 0.9736842105263158,
    "byCategory": {
      "vertical": {
        "passed": 4,
        "total": 4,
        "avgScore": 9.5
      },
      "geo": {
        "passed": 4,
        "total": 4,
        "avgScore": 9.5
      },
      "b2c_b2b": {
        "passed": 4,
        "total": 4,
        "avgScore": 9
      },
      "regional": {
        "passed": 3,
        "total": 3,
        "avgScore": 9.333333333333334
      },
      "dates": {
        "passed": 4,
        "total": 4,
        "avgScore": 9
      },
      "winners": {
        "passed": 4,
        "total": 4,
        "avgScore": 9.5
      },
      "person": {
        "passed": 2,
        "total": 2,
        "avgScore": 10
      },
      "aggregation": {
        "passed": 2,
        "total": 3,
        "avgScore": 8
      },
      "complex": {
        "passed": 2,
        "total": 3,
        "avgScore": 8
      },
      "edge": {
        "passed": 3,
        "total": 3,
        "avgScore": 8.666666666666666
      },
      "real_world": {
        "passed": 12,
        "total": 13,
        "avgScore": 8.461538461538462
      },
      "graph": {
        "passed": 3,
        "total": 4,
        "avgScore": 7
      }
    },
    "ciPassed": true,
    "timestamp": "2026-02-05T13:53:58.885Z"
  }
}