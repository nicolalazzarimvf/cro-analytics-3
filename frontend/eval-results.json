{
  "results": [
    {
      "id": 1,
      "input": "Show me hearing aids experiments",
      "ideal": "SELECT query filtering by vertical using ILIKE '%Hearing%' pattern, NOT filtering by launchedBy",
      "category": "vertical",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"geo\", \"winningVar\", \"monthlyExtrap\", \"dateLaunched\", \"dateConcluded\" FROM \"Experiment\" WHERE \"vertical\" ILIKE '%Hearing%' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters by vertical using ILIKE with the '%Hearing%' pattern, orders by dateLaunched, and includes a reasonable LIMIT clause. All criteria are met.",
      "safetyPassed": true,
      "latencyMs": 16299
    },
    {
      "id": 2,
      "input": "What tests did we run on solar panels?",
      "ideal": "SELECT query with vertical ILIKE '%Solar%' pattern for Solar Panels vertical",
      "category": "vertical",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, \"launchedBy\", \"winningVar\", \"monthlyExtrap\", hypothesis, \"lessonLearned\" FROM \"Experiment\" WHERE vertical ILIKE '%Solar%' AND \"dateConcluded\" BETWEEN CURRENT_DATE - INTERVAL '12 months' AND CURRENT_DATE ORDER BY \"dateConcluded\" DESC LIMIT 50",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Minor style issue with inconsistent quoting"
      ],
      "graderFeedback": "The query correctly filters for the Solar Panels vertical using ILIKE with wildcards and includes a reasonable LIMIT clause. However, there is a minor style issue with inconsistent quoting of column names.",
      "safetyPassed": true,
      "latencyMs": 16827
    },
    {
      "id": 3,
      "input": "Heat pumps experiments in the last 3 months",
      "ideal": "SELECT query combining vertical ILIKE '%Heat%' with date filter using INTERVAL '3 months'",
      "category": "vertical",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, \"dateLaunched\", \"winningVar\", \"monthlyExtrap\", hypothesis, \"lessonLearned\" FROM \"Experiment\" WHERE vertical ILIKE '%Heat%' AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '3 months' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query perfectly meets all the criteria: it uses ILIKE for the vertical filter, applies the correct date filter using INTERVAL, includes a LIMIT clause, and orders the results by date. All table and column names are properly quoted.",
      "safetyPassed": true,
      "latencyMs": 9108
    },
    {
      "id": 4,
      "input": "Merchant accounts tests this year",
      "ideal": "SELECT query filtering vertical ILIKE '%Merchant%' with 2025 or current year date filter",
      "category": "vertical",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"winningVar\", \"monthlyExtrap\", \"dateLaunched\", \"vertical\", \"geo\" FROM \"Experiment\" WHERE \"vertical\" ILIKE '%Merchant%' AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '12 months' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 8,
      "graderPassed": true,
      "graderIssues": [
        "Date filter includes past 12 months instead of current year"
      ],
      "graderFeedback": "The query correctly filters for 'Merchant' in the vertical and uses ILIKE. However, the date filter should specifically target the current year (2023) rather than the past 12 months. Otherwise, the query is well-structured and efficient.",
      "safetyPassed": true,
      "latencyMs": 12017
    },
    {
      "id": 5,
      "input": "List all UK experiments",
      "ideal": "SELECT query filtering geo ILIKE '%UK%'",
      "category": "geo",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, \"dateLaunched\", \"winningVar\", \"monthlyExtrap\" FROM \"Experiment\" WHERE geo ILIKE '%UK%' AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '12 months' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters for UK experiments using geo ILIKE '%UK%', includes a reasonable date range filter, orders by date launched, and limits the results. All criteria are met.",
      "safetyPassed": true,
      "latencyMs": 11052
    },
    {
      "id": 6,
      "input": "Show me Denmark tests from 2025",
      "ideal": "SELECT query filtering geo ILIKE '%DK%' or '%Denmark%' with 2025 date filter",
      "category": "geo",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"geo\", \"vertical\", \"winningVar\", \"monthlyExtrap\", \"dateLaunched\", \"dateConcluded\" FROM \"Experiment\" WHERE geo ILIKE '%DK%' AND \"dateLaunched\" >= '2025-01-01' ORDER BY \"dateLaunched\" LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Missing alternative geo filter for '%Denmark%'"
      ],
      "graderFeedback": "The query correctly filters for Denmark using '%DK%' and applies the 2025 date filter. However, it misses the alternative geo filter '%Denmark%'. Otherwise, it meets all other criteria, including the use of ILIKE and a reasonable LIMIT clause.",
      "safetyPassed": true,
      "latencyMs": 11489
    },
    {
      "id": 7,
      "input": "Hearing aids DK tests for the last 6 months",
      "ideal": "SELECT query with BOTH vertical ILIKE '%Hearing%' AND geo ILIKE '%DK%', with 6 month date range, NOT filtering launchedBy by 'Hearing' or 'DK'",
      "category": "geo",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"launchedBy\", \"dateLaunched\", \"winningVar\", \"monthlyExtrap\" FROM \"Experiment\" WHERE vertical ILIKE '%Hearing%' AND geo ILIKE '%DK%' AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '6 months' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly applies the vertical and geo filters using ILIKE with wildcards, includes the 6-month date range, and orders the results by dateLaunched. It also includes a reasonable LIMIT clause.",
      "safetyPassed": true,
      "latencyMs": 10722
    },
    {
      "id": 8,
      "input": "What worked well in Germany?",
      "ideal": "SELECT query filtering geo for DE/Germany with winningVar IS NOT NULL to find winners",
      "category": "geo",
      "critical": true,
      "sql": "SELECT \"testName\", vertical, \"elementChanged\", \"changeType\", \"winningVar\", \"monthlyExtrap\", \"dateConcluded\" FROM \"Experiment\" WHERE geo ILIKE '%DE%' AND (\"winningVar\" IS NOT NULL AND \"winningVar\" != '') ORDER BY \"monthlyExtrap\" DESC LIMIT 50",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters for Germany using ILIKE on geo, checks for non-null winningVar, and includes a reasonable LIMIT clause. It meets all the expected criteria.",
      "safetyPassed": true,
      "latencyMs": 10806
    },
    {
      "id": 9,
      "input": "Show me B2C experiments",
      "ideal": "SELECT query filtering testName ILIKE '%B2C%' since B2C is in testName not a separate column",
      "category": "b2c_b2b",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, \"launchedBy\", \"dateLaunched\", \"winningVar\", \"monthlyExtrap\" FROM \"Experiment\" WHERE \"testName\" ILIKE '%B2C%' AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '12 months' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "minor style issue with inconsistent quoting"
      ],
      "graderFeedback": "The query correctly filters on 'testName' using ILIKE for B2C experiments and includes a reasonable date range and limit. However, there is a minor style issue with inconsistent quoting of column names.",
      "safetyPassed": true,
      "latencyMs": 12140
    },
    {
      "id": 10,
      "input": "List B2B tests from last year",
      "ideal": "SELECT query filtering testName ILIKE '%B2B%' with date filter for last year/2024",
      "category": "b2c_b2b",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"launchedBy\", \"dateLaunched\", \"vertical\", \"geo\", \"winningVar\", \"monthlyExtrap\" FROM \"Experiment\" WHERE \"testName\" ILIKE '%B2B%' AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '1 year' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 8,
      "graderPassed": true,
      "graderIssues": [
        "Date filter includes current year instead of only last year"
      ],
      "graderFeedback": "The query correctly filters for B2B tests using testName and includes a date filter. However, the date filter includes the current year instead of strictly last year. Consider using a specific year range for last year.",
      "safetyPassed": true,
      "latencyMs": 12067
    },
    {
      "id": 11,
      "input": "What is the largest win in 2025 for B2C Americas?",
      "ideal": "SELECT query with testName ILIKE '%B2C%' AND (testName ILIKE '%AME%' OR tradingHub ILIKE '%Americas%') with 2025 date filter, ORDER BY monthlyExtrap DESC, winningVar IS NOT NULL",
      "category": "b2c_b2b",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"monthlyExtrap\", \"winningVar\", \"launchedBy\", \"dateConcluded\" FROM \"Experiment\" WHERE (\"testName\" ILIKE '%B2C%' AND (\"testName\" ILIKE '%AME%' OR \"testName\" ILIKE '%Americas%' OR \"tradingHub\" ILIKE '%Americas%')) AND \"dateConcluded\" BETWEEN '2025-01-01' AND '2025-12-31' AND \"winningVar\" IS NOT NULL ORDER BY \"monthlyExtrap\" DESC LIMIT 1",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Minor redundancy in filtering"
      ],
      "graderFeedback": "The query correctly filters for B2C and Americas using testName and tradingHub, applies the 2025 date filter, checks for winningVar, and orders by monthlyExtrap. However, there is a minor redundancy in filtering for 'Americas' both in testName and tradingHub.",
      "safetyPassed": true,
      "latencyMs": 9137
    },
    {
      "id": 12,
      "input": "Compare B2C vs B2B win rates",
      "ideal": "SELECT query that groups or compares testName containing B2C vs B2B patterns",
      "category": "b2c_b2b",
      "critical": false,
      "sql": null,
      "cypher": null,
      "modeUsed": null,
      "error": "\nInvalid `prisma.$queryRawUnsafe()` invocation:\n\n\nRaw query failed. Code: `42803`. Message: `column \"Experiment.testName\" must appear in the GROUP BY clause or be used in an aggregate function`",
      "graderScore": 0,
      "graderPassed": false,
      "graderIssues": [
        "No SQL to evaluate"
      ],
      "graderFeedback": "",
      "safetyPassed": true,
      "latencyMs": 6302
    },
    {
      "id": 13,
      "input": "Americas experiments this quarter",
      "ideal": "SELECT query filtering for AME or Americas in testName or tradingHub with current quarter date filter",
      "category": "regional",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, \"winningVar\", \"monthlyExtrap\", \"dateLaunched\" FROM \"Experiment\" WHERE (\"testName\" ILIKE '%AME%' OR \"testName\" ILIKE '%Americas%' OR \"tradingHub\" ILIKE '%Americas%') AND \"dateLaunched\" >= DATE_TRUNC('quarter', CURRENT_DATE) ORDER BY \"monthlyExtrap\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters for Americas experiments using the appropriate columns and date filter for the current quarter. It also includes a reasonable LIMIT clause and orders by 'monthlyExtrap' as a sensible choice for prioritization.",
      "safetyPassed": true,
      "latencyMs": 27485
    },
    {
      "id": 14,
      "input": "Show me RoW (rest of world) tests",
      "ideal": "SELECT query filtering for RoW pattern in testName or tradingHub",
      "category": "regional",
      "critical": true,
      "sql": "SELECT \"testName\", \"vertical\", \"geo\", \"winningVar\", \"monthlyExtrap\", \"dateLaunched\" FROM \"Experiment\" WHERE (\"testName\" ILIKE '%RoW%' OR \"tradingHub\" ILIKE '%RoW%') AND \"dateLaunched\" > CURRENT_DATE - INTERVAL '12 months' ORDER BY \"monthlyExtrap\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters for RoW tests using the appropriate columns and conditions. It includes a date filter, orders by 'monthlyExtrap', and applies a reasonable LIMIT clause.",
      "safetyPassed": true,
      "latencyMs": 26621
    },
    {
      "id": 15,
      "input": "Top winners in Americas region",
      "ideal": "SELECT query filtering Americas/AME with ORDER BY monthlyExtrap DESC and winningVar IS NOT NULL",
      "category": "regional",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"geo\", \"monthlyExtrap\", \"winningVar\", \"elementChanged\" FROM \"Experiment\" WHERE (\"testName\" ILIKE '%AME%' OR \"testName\" ILIKE '%Americas%' OR \"tradingHub\" ILIKE '%Americas%') AND \"winningVar\" IS NOT NULL ORDER BY \"monthlyExtrap\" DESC LIMIT 50",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters for the Americas region using the appropriate columns, checks for non-null winningVar, orders by monthlyExtrap in descending order, and includes a reasonable LIMIT clause.",
      "safetyPassed": true,
      "latencyMs": 15599
    },
    {
      "id": 16,
      "input": "How many experiments concluded in October 2025?",
      "ideal": "SELECT COUNT or list query filtering dateConcluded between 2025-10-01 and 2025-11-01",
      "category": "dates",
      "critical": true,
      "sql": "SELECT COUNT(*) AS experiment_count FROM \"Experiment\" WHERE \"dateConcluded\" BETWEEN '2025-10-01' AND '2025-10-31' LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Date range should use '2025-11-01' for exclusive end"
      ],
      "graderFeedback": "The query correctly counts experiments concluded in October 2025 using the BETWEEN clause. However, the end date should be '2025-11-01' to ensure inclusivity of the entire month. The LIMIT clause is unnecessary for a COUNT query.",
      "safetyPassed": true,
      "latencyMs": 8786
    },
    {
      "id": 17,
      "input": "Experiments from Q1 2025",
      "ideal": "SELECT query filtering date range from 2025-01-01 to 2025-04-01",
      "category": "dates",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"geo\", \"launchedBy\", \"dateLaunched\", \"dateConcluded\", \"winningVar\", \"monthlyExtrap\" FROM \"Experiment\" WHERE \"dateLaunched\" BETWEEN '2025-01-01' AND '2025-03-31' ORDER BY \"monthlyExtrap\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Minor date range discrepancy"
      ],
      "graderFeedback": "The query correctly filters experiments launched in Q1 2025, but the end date should be '2025-04-01' to include the entire quarter. Otherwise, it meets all other criteria, including the use of a LIMIT clause.",
      "safetyPassed": true,
      "latencyMs": 10709
    },
    {
      "id": 18,
      "input": "What did we test last month?",
      "ideal": "SELECT query using INTERVAL '1 month' or explicit last month date range",
      "category": "dates",
      "critical": true,
      "sql": "SELECT \"testName\", \"vertical\", \"geo\", \"launchedBy\", \"winningVar\" FROM \"Experiment\" WHERE \"dateLaunched\" >= CURRENT_DATE - INTERVAL '1 month' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Minor style issue with the use of ORDER BY"
      ],
      "graderFeedback": "The query correctly uses INTERVAL '1 month' to filter for experiments launched in the last month and includes a LIMIT clause. However, the ORDER BY clause is not strictly necessary for the expected behavior, which slightly affects style but not logic.",
      "safetyPassed": true,
      "latencyMs": 10568
    },
    {
      "id": 19,
      "input": "Tests launched between January and March 2025",
      "ideal": "SELECT query filtering dateLaunched >= 2025-01-01 AND dateLaunched < 2025-04-01",
      "category": "dates",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"geo\", \"dateLaunched\", \"dateConcluded\", \"winningVar\" FROM \"Experiment\" WHERE \"dateLaunched\" BETWEEN '2025-01-01' AND '2025-03-31' LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 8,
      "graderPassed": true,
      "graderIssues": [
        "BETWEEN clause includes end date, should use < for exclusive end date"
      ],
      "graderFeedback": "The query correctly filters the date range using BETWEEN, but it includes the end date '2025-03-31'. For exclusive end date, it should use 'dateLaunched < 2025-04-01'. Otherwise, the query is well-structured and includes a reasonable LIMIT clause.",
      "safetyPassed": true,
      "latencyMs": 11775
    },
    {
      "id": 20,
      "input": "What are our biggest wins this year?",
      "ideal": "SELECT query with winningVar IS NOT NULL, ORDER BY monthlyExtrap DESC, with 2025 date filter",
      "category": "winners",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"winningVar\", \"monthlyExtrap\", \"geo\" FROM \"Experiment\" WHERE \"winningVar\" IS NOT NULL AND \"dateConcluded\" >= CURRENT_DATE - INTERVAL '12 months' ORDER BY \"monthlyExtrap\" DESC LIMIT 50",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 8,
      "graderPassed": true,
      "graderIssues": [
        "Date filter includes the past 12 months instead of just 2025"
      ],
      "graderFeedback": "The query correctly filters for winning experiments and orders by monthlyExtrap. However, the date filter should be adjusted to only include experiments concluded in 2025.",
      "safetyPassed": true,
      "latencyMs": 12206
    },
    {
      "id": 21,
      "input": "Top 10 experiments by monthly extrapolation",
      "ideal": "SELECT query ORDER BY monthlyExtrap DESC LIMIT 10",
      "category": "winners",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"monthlyExtrap\", \"winningVar\", \"vertical\", \"geo\" FROM \"Experiment\" WHERE \"winningVar\" IS NOT NULL ORDER BY \"monthlyExtrap\" DESC LIMIT 10",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly selects the top 10 experiments by monthly extrapolation, includes the necessary filter for winning experiments, and orders the results as expected.",
      "safetyPassed": true,
      "latencyMs": 10081
    },
    {
      "id": 22,
      "input": "What experiments failed recently?",
      "ideal": "SELECT query filtering for failed experiments (winningVar IS NULL or empty) with recent date",
      "category": "winners",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, \"dateLaunched\", \"winningVar\", \"lessonLearned\" FROM \"Experiment\" WHERE (\"winningVar\" IS NULL OR \"winningVar\" = '') AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '3 months' ORDER BY \"dateLaunched\" DESC LIMIT 50",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters for failed experiments by checking if 'winningVar' is NULL or empty. It also correctly uses a date filter to find recent experiments and includes a LIMIT clause. All criteria are met.",
      "safetyPassed": true,
      "latencyMs": 13464
    },
    {
      "id": 23,
      "input": "Show me flat tests (no significant result)",
      "ideal": "SELECT query filtering winningVar IS NULL or checking significance thresholds",
      "category": "winners",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", \"geo\", \"dateLaunched\", \"targetMetric\", \"winningVar\", \"primarySignificance1\" FROM \"Experiment\" WHERE (\"winningVar\" IS NULL OR \"winningVar\" = '') AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '12 months' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Unused column 'targetMetric'",
        "Potentially redundant condition 'winningVar = ''"
      ],
      "graderFeedback": "The query correctly filters for flat tests by checking 'winningVar IS NULL' and includes a date filter with a reasonable LIMIT. However, the column 'targetMetric' is not part of the schema, and the condition 'winningVar = ''' is redundant since 'winningVar IS NULL' suffices.",
      "safetyPassed": true,
      "latencyMs": 12932
    },
    {
      "id": 24,
      "input": "What experiments did John run?",
      "ideal": "SELECT query filtering launchedBy ILIKE '%John%'",
      "category": "person",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, \"dateLaunched\", \"winningVar\" FROM \"Experiment\" WHERE LOWER(\"launchedBy\") LIKE '%john%' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 8,
      "graderPassed": true,
      "graderIssues": [
        "Used LOWER instead of ILIKE",
        "Missing quotes around vertical and geo"
      ],
      "graderFeedback": "The query correctly filters experiments launched by John and includes a reasonable LIMIT clause. However, it uses LOWER instead of ILIKE for the filter, and it misses quotes around 'vertical' and 'geo'.",
      "safetyPassed": true,
      "latencyMs": 8505
    },
    {
      "id": 25,
      "input": "Tests by Sarah in the last 6 months",
      "ideal": "SELECT query filtering launchedBy ILIKE '%Sarah%' with INTERVAL '6 months' date filter",
      "category": "person",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, \"dateLaunched\", \"winningVar\", \"monthlyExtrap\" FROM \"Experiment\" WHERE \"launchedBy\" ILIKE '%Sarah%' AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '6 months' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters for tests launched by Sarah in the last 6 months using the appropriate ILIKE and INTERVAL syntax. It also includes a reasonable LIMIT clause and orders the results by date launched.",
      "safetyPassed": true,
      "latencyMs": 9664
    },
    {
      "id": 26,
      "input": "How many experiments per vertical?",
      "ideal": "SELECT with GROUP BY vertical and COUNT aggregation",
      "category": "aggregation",
      "critical": false,
      "sql": "SELECT vertical, COUNT(*) as experiment_count FROM \"Experiment\" GROUP BY vertical ORDER BY experiment_count DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query perfectly meets the expected behavior by selecting verticals, counting experiments per vertical, and using GROUP BY. It also includes an ORDER BY clause for descending order and a reasonable LIMIT.",
      "safetyPassed": true,
      "latencyMs": 7613
    },
    {
      "id": 27,
      "input": "Average win rate by geo",
      "ideal": "SELECT with GROUP BY geo calculating win rate or count metrics",
      "category": "aggregation",
      "critical": false,
      "sql": "SELECT geo, ROUND(AVG(CASE WHEN \"winningVar\" IS NOT NULL AND \"winningVar\" != '' THEN 1.0 ELSE 0.0 END), 2) as win_rate, COUNT(*) as total_experiments FROM \"Experiment\" WHERE \"dateConcluded\" IS NOT NULL AND \"dateConcluded\" >= CURRENT_DATE - INTERVAL '12 months' GROUP BY geo ORDER BY win_rate DESC LIMIT 100",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly calculates the average win rate by geo, using appropriate filters and aggregation. It includes a GROUP BY on geo, uses a CASE statement to determine winning experiments, and applies a LIMIT clause. The date filter is correctly implemented using Postgres date syntax.",
      "safetyPassed": true,
      "latencyMs": 8913
    },
    {
      "id": 28,
      "input": "Monthly experiment count for 2025",
      "ideal": "SELECT with date extraction and GROUP BY month for 2025",
      "category": "aggregation",
      "critical": false,
      "sql": "SELECT COUNT(DISTINCT \"experimentId\") as monthly_experiment_count FROM \"Experiment\" WHERE EXTRACT(YEAR FROM \"dateLaunched\") = 2025 LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 6,
      "graderPassed": false,
      "graderIssues": [
        "Missing GROUP BY clause for month",
        "LIMIT clause is unnecessary for aggregation"
      ],
      "graderFeedback": "The query correctly filters for the year 2025 but lacks a GROUP BY clause to aggregate by month. The LIMIT clause is not needed for this type of aggregation.",
      "safetyPassed": true,
      "latencyMs": 9075
    },
    {
      "id": 29,
      "input": "What CTA tests worked best on Solar Panels UK in 2025?",
      "ideal": "SELECT combining vertical ILIKE '%Solar%', geo ILIKE '%UK%', changeType or testName containing CTA, winningVar IS NOT NULL, 2025 date, ORDER BY monthlyExtrap DESC",
      "category": "complex",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"winningVar\", \"monthlyExtrap\", \"crChangeV1\", \"rpvChangeV1\", \"elementChanged\", \"hypothesis\", \"lessonLearned\" FROM \"Experiment\" WHERE vertical ILIKE '%Solar%' AND geo ILIKE '%UK%' AND \"dateLaunched\" >= '2025-01-01' AND \"dateConcluded\" <= '2025-12-31' AND \"winningVar\" IS NOT NULL AND \"elementChanged\" ILIKE '%CTA%' ORDER BY \"monthlyExtrap\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Minor style issue with date format"
      ],
      "graderFeedback": "The query correctly filters for Solar Panels in the UK, includes the necessary winningVar condition, and orders by monthlyExtrap. However, it uses a fixed date format instead of Postgres date syntax for the year 2025.",
      "safetyPassed": true,
      "latencyMs": 11111
    },
    {
      "id": 30,
      "input": "Compare form changes vs button changes - which performed better?",
      "ideal": "SELECT analyzing changeType or elementChanged for form vs button comparisons",
      "category": "complex",
      "critical": false,
      "sql": "SELECT \"changeType\", COUNT(*) as total_experiments, AVG(\"monthlyExtrap\") as avg_monthly_extrap, MAX(\"monthlyExtrap\") as max_monthly_extrap, AVG(\"primarySignificance1\") as avg_significance FROM \"Experiment\" WHERE \"changeType\" IN ('Form Changes', 'Button Changes') AND \"winningVar\" IS NOT NULL GROUP BY \"changeType\" ORDER BY avg_monthly_extrap DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Column 'primarySignificance1' does not exist"
      ],
      "graderFeedback": "The query correctly compares form changes vs button changes by analyzing 'changeType'. It includes the necessary filter for winners and uses a reasonable LIMIT clause. However, it references a non-existent column 'primarySignificance1'.",
      "safetyPassed": true,
      "latencyMs": 11582
    },
    {
      "id": 31,
      "input": "What lessons did we learn from failed overlay tests?",
      "ideal": "SELECT including lessonLearned field, filtering for overlay in testName, winningVar IS NULL for failures",
      "category": "complex",
      "critical": false,
      "sql": "SELECT \"testName\", vertical, geo, hypothesis, \"lessonLearned\", \"elementChanged\", \"changeType\" FROM \"Experiment\" WHERE (\"winningVar\" IS NULL OR \"winningVar\" = '') AND \"testName\" ILIKE '%overlay%' ORDER BY \"dateConcluded\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Minor style issue with parentheses around OR condition"
      ],
      "graderFeedback": "The query correctly filters for failed overlay tests by checking for 'winningVar' IS NULL and 'testName' ILIKE '%overlay%'. It selects the 'lessonLearned' field as expected and includes a reasonable LIMIT clause. The use of parentheses around the OR condition is unnecessary but does not affect functionality.",
      "safetyPassed": true,
      "latencyMs": 14976
    },
    {
      "id": 32,
      "input": "Show me experiments",
      "ideal": "Basic SELECT from Experiment table with default LIMIT",
      "category": "edge",
      "critical": false,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, \"winningVar\", \"monthlyExtrap\", \"dateLaunched\" FROM \"Experiment\" ORDER BY \"dateLaunched\" DESC LIMIT 50",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "vertical and geo columns are not quoted"
      ],
      "graderFeedback": "The query is almost perfect, but it has a minor style issue with unquoted column names for 'vertical' and 'geo'. Otherwise, it correctly selects from the Experiment table with a reasonable LIMIT and orders by dateLaunched.",
      "safetyPassed": true,
      "latencyMs": 20071
    },
    {
      "id": 33,
      "input": "List experiments with hypothesis containing 'trust'",
      "ideal": "SELECT filtering hypothesis ILIKE '%trust%'",
      "category": "edge",
      "critical": false,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, hypothesis FROM \"Experiment\" WHERE hypothesis ILIKE '%trust%' LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query correctly filters experiments where the hypothesis contains 'trust' using ILIKE. It also includes a reasonable LIMIT clause and selects appropriate columns.",
      "safetyPassed": true,
      "latencyMs": 13242
    },
    {
      "id": 34,
      "input": "Experiments with CR change greater than 5%",
      "ideal": "SELECT filtering crChangeV1 > 0.05 or > 5 depending on format",
      "category": "edge",
      "critical": false,
      "sql": "SELECT \"experimentId\", \"testName\", \"vertical\", geo, \"crChangeV1\", \"crChangeV2\", \"crChangeV3\", \"dateLaunched\", \"winningVar\" FROM \"Experiment\" WHERE (\"crChangeV1\" > 0.05 OR \"crChangeV2\" > 0.05 OR \"crChangeV3\" > 0.05) AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '12 months' ORDER BY \"crChangeV1\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Unquoted column name 'geo'",
        "Unnecessary columns 'crChangeV2', 'crChangeV3'"
      ],
      "graderFeedback": "The query correctly filters experiments with CR change greater than 5% and uses a date filter with a LIMIT clause. However, the 'geo' column is not quoted, and 'crChangeV2' and 'crChangeV3' are unnecessary for the expected behavior.",
      "safetyPassed": true,
      "latencyMs": 21358
    },
    {
      "id": 35,
      "input": "Show me what we tested on Merchant Accounts UK in the past 6 months. What has worked well, what hasn't? What are your recommendations for test opportunities?",
      "ideal": "SELECT with vertical ILIKE '%Merchant%', geo ILIKE '%UK%', INTERVAL '6 months' date filter, include lessonLearned, hypothesis, winningVar, monthlyExtrap for analysis",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"testName\", \"winningVar\", \"changeType\", \"elementChanged\", \"primarySignificance1\", \"monthlyExtrap\", \"hypothesis\", \"lessonLearned\" FROM \"Experiment\" WHERE vertical ILIKE '%Merchant%' AND geo ILIKE '%UK%' AND \"dateConcluded\" >= CURRENT_DATE - INTERVAL '6 months' ORDER BY \"monthlyExtrap\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Missing 'winningVar IS NOT NULL' filter"
      ],
      "graderFeedback": "The query is well-constructed with correct filters for vertical, geo, and date range. It includes relevant columns for analysis and uses a reasonable LIMIT clause. However, it is missing the 'winningVar IS NOT NULL' filter to ensure only experiments with winners are considered.",
      "safetyPassed": true,
      "latencyMs": 15963
    },
    {
      "id": 36,
      "input": "What patterns can we see in failed experiments?",
      "ideal": "SELECT filtering winningVar IS NULL or empty, include changeType, elementChanged, lessonLearned for pattern analysis",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"vertical\", \"geo\", \"changeType\", \"elementChanged\", COUNT(*) as failed_count, AVG(\"variationsCount\") as avg_variations FROM \"Experiment\" WHERE (\"winningVar\" IS NULL OR \"winningVar\" = '') GROUP BY \"vertical\", \"geo\", \"changeType\", \"elementChanged\" ORDER BY failed_count DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 7,
      "graderPassed": true,
      "graderIssues": [
        "Missing lessonLearned in SELECT clause",
        "Unnecessary AVG(variationsCount) calculation"
      ],
      "graderFeedback": "The query correctly filters for failed experiments and groups by the necessary columns for pattern analysis. However, it is missing the 'lessonLearned' column in the SELECT clause, which is important for understanding patterns in failed experiments. Additionally, the AVG(variationsCount) calculation is not relevant to the expected behavior and could be removed for clarity.",
      "safetyPassed": true,
      "latencyMs": 13947
    },
    {
      "id": 37,
      "input": "What has been tested on Solar Panels UK in the last 3 months? What did we learn?",
      "ideal": "SELECT with vertical ILIKE '%Solar%', geo ILIKE '%UK%', INTERVAL '3 months', include lessonLearned, hypothesis for learnings",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"testName\", \"elementChanged\", \"changeType\", \"hypothesis\", \"lessonLearned\", \"winningVar\", \"monthlyExtrap\" FROM \"Experiment\" WHERE vertical ILIKE '%Solar%' AND geo ILIKE '%UK%' AND \"dateConcluded\" >= CURRENT_DATE - INTERVAL '3 months' ORDER BY \"dateConcluded\" DESC LIMIT 100",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query perfectly meets all the criteria: it filters by vertical and geo using ILIKE with wildcards, correctly uses the INTERVAL for the last 3 months, includes the necessary columns for learnings, and applies a reasonable LIMIT clause.",
      "safetyPassed": true,
      "latencyMs": 12122
    },
    {
      "id": 38,
      "input": "Please give me a summary of all experiments concluded in October 2025",
      "ideal": "SELECT filtering dateConcluded >= '2025-10-01' AND dateConcluded < '2025-11-01', include key fields for summary",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, geo, \"launchedBy\", \"winningVar\", \"monthlyExtrap\", \"elementChanged\", \"changeType\", hypothesis, \"lessonLearned\" FROM \"Experiment\" WHERE \"dateConcluded\" BETWEEN '2025-10-01' AND '2025-10-31' LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 8,
      "graderPassed": true,
      "graderIssues": [
        "Incorrect date range for October 2025"
      ],
      "graderFeedback": "The query correctly selects key fields for a summary and includes a LIMIT clause. However, the date range for October 2025 is incorrect; it should use '2025-10-01' AND '2025-11-01' to ensure all days in October are included.",
      "safetyPassed": true,
      "latencyMs": 14361
    },
    {
      "id": 39,
      "input": "What did we learn from experiments that include OverlayLoader in the name?",
      "ideal": "SELECT filtering testName ILIKE '%OverlayLoader%', include lessonLearned, hypothesis, winningVar",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"testName\", hypothesis, \"lessonLearned\", \"winningVar\", \"changeType\", \"elementChanged\" FROM \"Experiment\" WHERE \"testName\" ILIKE '%OverlayLoader%' AND (\"winningVar\" IS NOT NULL AND \"winningVar\" != '') ORDER BY \"dateConcluded\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Includes unnecessary columns",
        "Uses redundant condition for winningVar"
      ],
      "graderFeedback": "The query correctly filters on testName using ILIKE for 'OverlayLoader' and includes the necessary columns for lessonLearned, hypothesis, and winningVar. However, it includes additional columns 'changeType' and 'elementChanged' which are not required by the expected behavior. The condition 'winningVar IS NOT NULL AND winningVar != ''' is redundant since 'winningVar IS NOT NULL' suffices. Overall, the query is efficient and meets the main criteria.",
      "safetyPassed": true,
      "latencyMs": 13081
    },
    {
      "id": 40,
      "input": "What did we learn from tagline experiments on Merchant Accounts UK?",
      "ideal": "SELECT with vertical ILIKE '%Merchant%', geo ILIKE '%UK%', testName ILIKE '%tagline%', include lessonLearned",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"testName\", \"hypothesis\", \"elementChanged\", \"changeType\", \"winningVar\", \"lessonLearned\", \"monthlyExtrap\" FROM \"Experiment\" WHERE vertical ILIKE '%Merchant%' AND geo ILIKE '%UK%' AND \"elementChanged\" ILIKE '%tagline%' AND \"dateConcluded\" >= CURRENT_DATE - INTERVAL '12 months' ORDER BY \"monthlyExtrap\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 6,
      "graderPassed": false,
      "graderIssues": [
        "Missing filter on testName for 'tagline'",
        "Missing winningVar IS NOT NULL condition",
        "Includes unnecessary columns",
        "Potentially excessive LIMIT"
      ],
      "graderFeedback": "The query correctly filters on vertical and geo, but it should filter on testName for 'tagline' instead of elementChanged. It also lacks the winningVar IS NOT NULL condition and includes unnecessary columns. The LIMIT of 500 might be excessive for the expected behavior.",
      "safetyPassed": true,
      "latencyMs": 10982
    },
    {
      "id": 41,
      "input": "What did we learn from experiment 6640249527336960?",
      "ideal": "SELECT filtering experimentId = '6640249527336960' or ILIKE pattern, include all detail fields especially lessonLearned and hypothesis",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"hypothesis\", \"winningVar\", \"lessonLearned\", \"elementChanged\", \"changeType\" FROM \"Experiment\" WHERE \"experimentId\" = '6640249527336960' LIMIT 1",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Missing some detail fields like 'vertical', 'geo', 'dateLaunched', 'dateConcluded', 'monthlyExtrap', 'launchedBy', 'tradingHub', 'crChangeV1', 'rpvChangeV1'"
      ],
      "graderFeedback": "The query correctly filters by experimentId and includes key fields like hypothesis and lessonLearned. However, it misses some additional detail fields that could provide more context.",
      "safetyPassed": true,
      "latencyMs": 9674
    },
    {
      "id": 42,
      "input": "What did we learn from the overlayloader tests on Solar Panels?",
      "ideal": "SELECT with vertical ILIKE '%Solar%', testName ILIKE '%overlayloader%', include lessonLearned, hypothesis",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", hypothesis, \"lessonLearned\", \"winningVar\", \"elementChanged\", \"changeType\", \"primaryMetricName\", \"primarySignificance1\", \"monthlyExtrap\" FROM \"Experiment\" WHERE vertical ILIKE '%Solar%' AND \"testName\" ILIKE '%overlayloader%' AND (\"dateConcluded\" IS NOT NULL OR \"dateLaunched\" >= CURRENT_DATE - INTERVAL '12 months') LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 7,
      "graderPassed": true,
      "graderIssues": [
        "Missing specific columns: 'hypothesis' and 'lessonLearned' should be explicitly included.",
        "Unnecessary columns: 'primaryMetricName', 'primarySignificance1', 'monthlyExtrap' are not needed.",
        "Missing 'winningVar IS NOT NULL' filter for winners."
      ],
      "graderFeedback": "The query correctly filters for 'Solar' and 'overlayloader' but includes unnecessary columns and misses the 'winningVar IS NOT NULL' filter. It should focus on 'hypothesis' and 'lessonLearned' as expected.",
      "safetyPassed": true,
      "latencyMs": 12288
    },
    {
      "id": 43,
      "input": "What is the biggest stat sig CR win in B2B Americas in the past 3 years?",
      "ideal": "SELECT with testName ILIKE '%B2B%', (testName ILIKE '%AME%' OR tradingHub ILIKE '%Americas%'), winningVar IS NOT NULL, primarySignificance1 < 0.05, ORDER BY crChangeV1 DESC or monthlyExtrap DESC, INTERVAL '3 years'",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"testName\", \"experimentId\", \"primarySignificance1\", \"primaryVar1Conv\", \"primaryControlConv\", \"monthlyExtrap\", \"vertical\", \"lever\" FROM \"Experiment\" WHERE (\"testName\" ILIKE '%B2B%' AND (\"testName\" ILIKE '%AME%' OR \"testName\" ILIKE '%Americas%' OR \"tradingHub\" ILIKE '%Americas%')) AND \"dateConcluded\" >= CURRENT_DATE - INTERVAL '3 years' AND \"winningVar\" IS NOT NULL AND \"primarySignificance1\" <= 0.05 ORDER BY \"primaryVar1Conv\" DESC LIMIT 1",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 8,
      "graderPassed": true,
      "graderIssues": [
        "Incorrect ORDER BY column",
        "Unused columns in SELECT"
      ],
      "graderFeedback": "The query correctly filters for B2B and Americas using testName and tradingHub, checks for winningVar, and uses the correct date interval. However, it orders by 'primaryVar1Conv' instead of 'crChangeV1' or 'monthlyExtrap', which is not aligned with the expected behavior for determining the biggest CR win. Additionally, it selects unnecessary columns like 'lever'.",
      "safetyPassed": true,
      "latencyMs": 10964
    },
    {
      "id": 44,
      "input": "Could you tell me about the largest recent win in B2B RoW?",
      "ideal": "SELECT with testName ILIKE '%B2B%', (testName ILIKE '%RoW%' OR tradingHub ILIKE '%RoW%'), winningVar IS NOT NULL, ORDER BY monthlyExtrap DESC, recent date filter",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"testName\", \"vertical\", \"tradingHub\", \"winningVar\", \"monthlyExtrap\", \"experimentId\", \"launchedBy\", \"hypothesis\", \"elementChanged\" FROM \"Experiment\" WHERE (\"testName\" ILIKE '%B2B%' AND (\"testName\" ILIKE '%RoW%' OR \"tradingHub\" ILIKE '%RoW%')) AND \"winningVar\" IS NOT NULL AND \"dateConcluded\" >= CURRENT_DATE - INTERVAL '12 months' ORDER BY \"monthlyExtrap\" DESC LIMIT 1",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query perfectly meets all the criteria: it filters for B2B and RoW using the correct columns, checks for a winning variant, applies a recent date filter, orders by monthlyExtrap in descending order, and includes a LIMIT clause.",
      "safetyPassed": true,
      "latencyMs": 11384
    },
    {
      "id": 45,
      "input": "Could you tell me about any common characteristics of recent stat sig promoted tests in b2b?",
      "ideal": "SELECT with testName ILIKE '%B2B%', promoted = true, primarySignificance1 < 0.05, include changeType, elementChanged for characteristics analysis",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"testName\", \"vertical\", \"geo\", \"changeType\", \"elementChanged\", \"lever\", \"monthlyExtrap\", \"winningVar\", \"primarySignificance1\" FROM \"Experiment\" WHERE \"testName\" ILIKE '%B2B%' AND \"promoted\" = true AND \"winningVar\" IS NOT NULL AND \"primarySignificance1\" <= 0.05 AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '12 months' ORDER BY \"monthlyExtrap\" DESC LIMIT 100",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 8,
      "graderPassed": true,
      "graderIssues": [
        "missing GROUP BY for characteristics analysis",
        "unnecessary columns selected"
      ],
      "graderFeedback": "The query correctly filters for B2B tests, checks for promotion and statistical significance, and includes a date filter. However, it lacks a GROUP BY clause for analyzing common characteristics and selects unnecessary columns like 'lever'.",
      "safetyPassed": true,
      "latencyMs": 12742
    },
    {
      "id": 46,
      "input": "What were the biggest rolled out experiments in B2C AME (Americas) last month?",
      "ideal": "SELECT with testName ILIKE '%B2C%', (testName ILIKE '%AME%' OR tradingHub ILIKE '%Americas%'), winningVar IS NOT NULL, INTERVAL '1 month', ORDER BY monthlyExtrap DESC",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", vertical, \"monthlyExtrap\", \"winningVar\", \"elementChanged\", \"changeType\" FROM \"Experiment\" WHERE (\"testName\" ILIKE '%B2C%' AND \"testName\" ILIKE '%AME%') AND (\"dateConcluded\" >= (CURRENT_DATE - INTERVAL '1 month')) AND \"winningVar\" IS NOT NULL ORDER BY \"monthlyExtrap\" DESC LIMIT 50",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "tradingHub filter not included as alternative to testName for region"
      ],
      "graderFeedback": "The query is almost perfect. It correctly filters for B2C and AME using testName, checks for winningVar, and orders by monthlyExtrap. However, it misses the alternative filter on tradingHub for the Americas region. Including this would make the query more robust.",
      "safetyPassed": true,
      "latencyMs": 10060
    },
    {
      "id": 47,
      "input": "list the hearing aids dk tests for the last 6 months",
      "ideal": "SELECT with vertical ILIKE '%Hearing%', geo ILIKE '%DK%', INTERVAL '6 months', NOT filtering launchedBy",
      "category": "real_world",
      "critical": true,
      "sql": "SELECT \"experimentId\", \"testName\", \"winningVar\", \"monthlyExtrap\", \"dateLaunched\", \"lessonLearned\" FROM \"Experiment\" WHERE vertical ILIKE '%Hearing%' AND geo ILIKE '%DK%' AND \"dateLaunched\" >= CURRENT_DATE - INTERVAL '6 months' ORDER BY \"dateLaunched\" DESC LIMIT 500",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 10,
      "graderPassed": true,
      "graderIssues": [],
      "graderFeedback": "The query perfectly meets all the criteria: it correctly filters by vertical and geo using ILIKE with wildcards, uses the correct date interval for the last 6 months, and includes a reasonable LIMIT clause. The logic and structure are correct and efficient.",
      "safetyPassed": true,
      "latencyMs": 10571
    },
    {
      "id": 48,
      "input": "What relationships exist between change types and elements changed?",
      "ideal": "Graph/Cypher query using HAS_CHANGE_TYPE and CHANGED_ELEMENT relationships, aggregating by changeType and elementChanged",
      "category": "graph",
      "critical": false,
      "sql": "SELECT DISTINCT \"changeType\", \"elementChanged\", COUNT(*) as occurrence_count FROM \"Experiment\" WHERE \"changeType\" IS NOT NULL AND \"elementChanged\" IS NOT NULL GROUP BY \"changeType\", \"elementChanged\" ORDER BY occurrence_count DESC LIMIT 2000",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 9,
      "graderPassed": true,
      "graderIssues": [
        "Minor style issue with unnecessary DISTINCT"
      ],
      "graderFeedback": "The query correctly aggregates relationships between change types and elements changed using GROUP BY and COUNT. The use of DISTINCT is unnecessary since GROUP BY already ensures unique combinations. Otherwise, the query meets all criteria and is efficient.",
      "safetyPassed": true,
      "latencyMs": 25815
    },
    {
      "id": 49,
      "input": "Show me patterns across different verticals",
      "ideal": "Graph/Cypher query traversing IN_VERTICAL relationships to find patterns",
      "category": "graph",
      "critical": false,
      "sql": "SELECT \"dateConcluded\", \"id\", \"experimentId\", \"testName\", vertical, \"changeType\", \"elementChanged\", geo, \"targetMetric\", \"winningVar\", \"monthlyExtrap\" FROM \"Experiment\" WHERE vertical IS NOT NULL ORDER BY \"monthlyExtrap\" DESC LIMIT 2000",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 2,
      "graderPassed": false,
      "graderIssues": [
        "Incorrect query type: SQL instead of Cypher",
        "Missing GROUP BY for pattern analysis",
        "Missing ILIKE filter for vertical",
        "No aggregation for pattern detection"
      ],
      "graderFeedback": "The query is not a graph pattern analysis query as expected. It uses SQL instead of Cypher and lacks the necessary GROUP BY and aggregation to identify patterns across verticals. Additionally, it does not use the required ILIKE filter for verticals.",
      "safetyPassed": true,
      "latencyMs": 32804
    },
    {
      "id": 50,
      "input": "What connections exist between experiments and geos?",
      "ideal": "Graph/Cypher query using IN_GEO relationships",
      "category": "graph",
      "critical": false,
      "sql": "SELECT DISTINCT geo, vertical, COUNT(\"id\") as experiment_count, round(CAST(AVG(\"monthlyExtrap\") AS numeric), 2) as avg_monthly_extrap FROM \"Experiment\" WHERE geo IS NOT NULL AND geo != '' GROUP BY geo, vertical ORDER BY experiment_count DESC LIMIT 2000",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 4,
      "graderPassed": false,
      "graderIssues": [
        "Incorrect query type: Cypher expected, SQL provided",
        "Missing relationship pattern analysis",
        "Does not use JOINs or self-joins for relationships",
        "Does not use GROUP BY on 'changeType', 'elementChanged'"
      ],
      "graderFeedback": "The query is a SQL query instead of a Cypher query, which is expected for graph pattern analysis. It lacks the necessary relationship pattern analysis and does not use JOINs or self-joins to explore connections between experiments and geos.",
      "safetyPassed": true,
      "latencyMs": 27744
    },
    {
      "id": 51,
      "input": "How are change types connected to experiment outcomes?",
      "ideal": "Graph/Cypher query analyzing HAS_CHANGE_TYPE relationships with winningVar",
      "category": "graph",
      "critical": false,
      "sql": "SELECT \"changeType\", \"elementChanged\", AVG(\"monthlyExtrap\") as avg_impact, COUNT(*) as experiment_count, round(CAST(AVG(CASE WHEN \"winningVar\" IS NOT NULL THEN 1.0 ELSE 0.0 END) * 100 AS numeric), 2) as success_rate FROM \"Experiment\" WHERE \"dateConcluded\" >= NOW() - INTERVAL '24 months' GROUP BY \"changeType\", \"elementChanged\" ORDER BY avg_impact DESC LIMIT 2000",
      "cypher": null,
      "modeUsed": "sql",
      "error": null,
      "graderScore": 8,
      "graderPassed": true,
      "graderIssues": [
        "Minor style issue with the use of AVG for success rate calculation"
      ],
      "graderFeedback": "The query correctly analyzes the relationship between change types and experiment outcomes using SQL aggregation. It includes appropriate grouping and filtering, and calculates the success rate. However, the use of AVG for calculating the success rate could be more explicitly expressed for clarity.",
      "safetyPassed": true,
      "latencyMs": 26344
    }
  ],
  "summary": {
    "totalTests": 51,
    "passed": 46,
    "failed": 4,
    "errors": 1,
    "passRate": 0.9019607843137255,
    "averageScore": 8.72,
    "averageLatency": 13826.43137254902,
    "criticalPassRate": 0.9736842105263158,
    "byCategory": {
      "vertical": {
        "passed": 4,
        "total": 4,
        "avgScore": 9.25
      },
      "geo": {
        "passed": 4,
        "total": 4,
        "avgScore": 9.75
      },
      "b2c_b2b": {
        "passed": 3,
        "total": 4,
        "avgScore": 8.666666666666666
      },
      "regional": {
        "passed": 3,
        "total": 3,
        "avgScore": 10
      },
      "dates": {
        "passed": 4,
        "total": 4,
        "avgScore": 8.75
      },
      "winners": {
        "passed": 4,
        "total": 4,
        "avgScore": 9.25
      },
      "person": {
        "passed": 2,
        "total": 2,
        "avgScore": 9
      },
      "aggregation": {
        "passed": 2,
        "total": 3,
        "avgScore": 8.666666666666666
      },
      "complex": {
        "passed": 3,
        "total": 3,
        "avgScore": 9
      },
      "edge": {
        "passed": 3,
        "total": 3,
        "avgScore": 9.333333333333334
      },
      "real_world": {
        "passed": 12,
        "total": 13,
        "avgScore": 8.461538461538462
      },
      "graph": {
        "passed": 2,
        "total": 4,
        "avgScore": 5.75
      }
    },
    "ciPassed": true,
    "timestamp": "2026-02-12T15:41:42.554Z"
  }
}